(this["webpackJsonpfuel-cost-calculator"]=this["webpackJsonpfuel-cost-calculator"]||[]).push([[0],{181:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(11),n=a.n(r),s=a(62),i=a.n(s),l=a(91),o=a(3),u=a(4),d=a(9),h=a(5),p=a(93),v=a(92),f=a.n(v),m=a(208),j=a(37),b=a.n(j),_=(a(181),a(88),a(1));var g=function(e){return Object(_.jsxs)("div",{className:"distance-container",children:[Object(_.jsx)("h3",{className:"slider-header",children:"How far do you drive each day?"}),Object(_.jsxs)("h3",{className:"driving-distance slider-result",children:[(t=e.drivingDistance,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," km"]}),Object(_.jsx)(b.a,{defaultValue:e.defaultValue,dots:!1,marks:{10:"10km",50:"50km",100:"100km"},max:100,min:10,step:1,onChange:e.onChange})]});var t},O=(a(183),function(e){return Object(_.jsxs)("footer",{children:[Object(_.jsxs)("p",{className:"source",children:["Source:  ",Object(_.jsx)("a",{href:"https://open.canada.ca/data/en/dataset/98f1a129-f628-4ce4-b24d-6f16bf24dd64",target:"_blank",children:"Federal government"})]}),Object(_.jsx)("p",{className:"source",children:"NOTE: Fuel costs are rounded to the nearest dollar."})]})}),k=(a(184),function(e){return Object(_.jsxs)("div",{className:"gas-slider-container",children:[Object(_.jsx)("h3",{className:"slider-header",children:"What\u2019s the price of gas?"}),Object(_.jsxs)("h3",{className:"gas-price slider-result",children:["$",e.gasPrice,"/litre"]}),Object(_.jsx)(b.a,{defaultValue:e.defaultValue,dots:!1,min:1.5,max:2.5,marks:{1.5:"$1.50",2:"$2.00",2.5:"$2.50"},step:.01,onChange:e.onChange})]})}),x=a(39),y=a(40);a(185);function M(e,t){var a;a="year"===t?e.ice_data:"make"===t?e.ice_data.filter((function(t){return t.year===e.currentYear})):"model"===t?e.ice_data.filter((function(t){return t.year===e.currentYear&&t.make===e.currentMake})):e.ice_data;var c=Object(x.a)(new Set(a.map((function(e){return e[t]}))));return"year"===t?c.map((function(e){return{value:e,label:e.toString()}})).sort((function(e,t){return t.value-e.value})):c.map((function(e){return{value:e,label:e.toString()}})).sort((function(e,t){return e.value-t.value}))}var N=function(e){var t=M(e,"year"),a=M(e,"make"),c=M(e,"model");return Object(_.jsxs)("div",{className:"vehicle-selector",children:[Object(_.jsx)("h3",{children:"What car do you drive?"}),Object(_.jsx)(y.a,{className:"half-width",options:t,placeholder:"Year...",onChange:e.setYearHandler}),Object(_.jsx)(y.a,{className:"half-width",options:a,isDisabled:e.disableMakeSelector,placeholder:"Make...",onChange:e.setMakeHandler}),Object(_.jsx)(y.a,{className:"full-width",options:c,isDisabled:e.disableModelSelector,placeholder:"Enter a model...",onChange:e.setModelHandler})]})};a(202);var S=function(e){var t,a,c=function(e){return Math.round(e.driveDistance/100*e.fuelConsumption*e.gasPrice)}(e);return t=e.fuelConsumption?Object(_.jsxs)("p",{className:"results-display",children:["You\u2019re spending roughly ",Object(_.jsxs)("span",{className:"price",children:["$",(a=c,a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," per day"]})," on gas."]}):Object(_.jsxs)("p",{className:"results-no-display",children:[Object(_.jsx)("span",{className:"up-arrow",children:"\ud83d\udd1d"})," Select a vehicle ",Object(_.jsx)("span",{className:"up-arrow",children:"\ud83d\udd1d"})]}),Object(_.jsx)("div",{className:"results-container",children:t})},w=(a(203),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={current_make:"",current_model:"",current_year:"",disable_make_selector:!1,disable_model_selector:!0,driving_distance:25,gas_price:1.85,power_price:0,subsidy:{federal:!1,provincial:!1},vehicle:{ice:{}},vehicle_selected:{},vehicle_data:{ice:{}}},c.updateDistanceSlider=c.updateDistanceSlider.bind(Object(d.a)(c)),c.updateGasPrice=c.updateGasPrice.bind(Object(d.a)(c)),c.updateIceYear=c.updateIceYear.bind(Object(d.a)(c)),c.updateIceMake=c.updateIceMake.bind(Object(d.a)(c)),c.updateIceModel=c.updateIceModel.bind(Object(d.a)(c)),c}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get(this.props.dataUrl).then((function(e){return Object(m.a)(e.data)})).then((function(e){t.setState({vehicle_data:{ice:e.filter((function(e){return"B"!==e.fuel_type}))}})})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getComboMax",value:function(e){return e.reduce((function(e,t){return t.fc_comb_l100>e?t.fc_comb_l100:e}),e[0].fc_comb_l100)}},{key:"updateDistanceSlider",value:function(e){this.setState({driving_distance:e})}},{key:"updateGasPrice",value:function(e){this.setState({gas_price:e})}},{key:"updateIceYear",value:function(e){var t=this.state.vehicle_data.ice.filter((function(t){return t.year===e.value}));this.setState({current_make:"",current_model:"",current_year:e.value,vehicle:{ice:t}})}},{key:"updateIceMake",value:function(e){var t=this,a=this.state.vehicle_data.ice.filter((function(a){return a.year===t.state.current_year&&a.make===e.value}));this.setState({current_make:e.value,current_model:"",disable_model_selector:!1,vehicle:{ice:a}})}},{key:"updateIceModel",value:function(e,t){var a=this,c=this.state.vehicle_data.ice.filter((function(t){return t.year===a.state.current_year&&t.make===a.state.current_make&&t.model===e.value}));console.log(c,t),this.setState({current_model:e.value,vehicle:{fuel_consumption:this.getComboMax(c),ice:c}})}},{key:"render",value:function(){var e,t;return this.state.vehicle_data.ice.length>0?(e=Object(_.jsx)(N,{currentMake:this.state.current_make,currentModel:this.state.current_model,currentYear:this.state.current_year,disableMakeSelector:this.state.disable_make_selector,disableModelSelector:this.state.disable_model_selector,ice_data_subset:this.state.vehicle.ice,ice_data:this.state.vehicle_data.ice,setYearHandler:this.updateIceYear,setMakeHandler:this.updateIceMake,setModelHandler:this.updateIceModel}),t=Object(_.jsx)(S,{driveDistance:this.state.driving_distance,evData:this.state.vehicle_data.ev,fuelConsumption:this.state.vehicle.fuel_consumption,gasPrice:this.state.gas_price})):(e=null,t=null),Object(_.jsxs)("div",{className:"ev-calculator",children:[Object(_.jsx)(g,{defaultValue:this.state.driving_distance,drivingDistance:this.state.driving_distance,onChange:this.updateDistanceSlider}),Object(_.jsx)(k,{defaultValue:this.state.gas_price,gasPrice:this.state.gas_price,onChange:this.updateGasPrice}),e,t,Object(_.jsx)(O,{})]})}}]),a}(c.Component));a(204);var C=function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("h1",{children:"Gas cost calculator"}),Object(_.jsx)(w,{dataUrl:"https://vs-postmedia-data.sfo2.digitaloceanspaces.com/misc/gas-cost-calculator-data.csv"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(205),a.p,a.p,a.p,a.p,a.p,a.p;n.a.render(Object(_.jsx)(C,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[206,1,2]]]);
//# sourceMappingURL=main.e2b8a571.chunk.js.map